<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>rem布局</title>
    <style>
        html{
            font-size: 10px;
        }
        .hello{
            font-size: 2rem;
        }
    </style>
</head>
<body>
    <div class="hello">你好</div>
    <script>
        ;(function(){
            var doc = window.document;
            var docEl = doc.documentElement;
            var metaEl = doc.querySelector('meta[name="viewport"]');
            var flexibleEl = doc.querySelector('meta[name="flexible"]');
            var dpr = 0;
            var scale = 0;
            var tid;
            var flexible = lib.flexible || (lib.flexible = {});
            if(metaEl){
                // 将根据已有的meta标签设置缩放比例
                var match = metaEl.getAttribute('content').match(/initial-scale=([\d\.]+)/);
                if(match){
                    scale  = parseFloat(match[1]);
                    dpr = parseInt(1 / scale);
                }else if(flexibleEl){
                    
                }
            }
        })(window, window['lib'] || (window['lib'] = {}))
    </script>
</body>
</html>
